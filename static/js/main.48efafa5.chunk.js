(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{139:function(e,t){},230:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"initialSupply","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},231:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address[]","name":"_targets","type":"address[]"},{"internalType":"uint256[]","name":"_amount","type":"uint256[]"}],"name":"batchSendToken","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address[]","name":"_targets","type":"address[]"},{"internalType":"uint256[]","name":"_amount","type":"uint256[]"}],"name":"checkSufficient","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"view","type":"function","constant":true}]')},232:function(e){e.exports=JSON.parse('{"sender":"0x3A4cDe6D856cE7421b563FE50f54e6731196E18a"}')},233:function(e){e.exports=JSON.parse('{"sender":"0x71402BD4ccE356C41Bb3c5070a0E124E9989cbc0"}')},234:function(e){e.exports=JSON.parse('{"sender":"0x063084091a393F9Bc92186CDEDFaf0B4e8909d87"}')},235:function(e){e.exports=JSON.parse('{"sender":"0x6A365dCadF3A3b81593985FD749611B8311cE9dF"}')},251:function(e,t){},252:function(e,t){},265:function(e,t){},274:function(e,t){},292:function(e,t){},294:function(e,t){},311:function(e,t){},312:function(e,t){},376:function(e,t){},378:function(e,t){},387:function(e,t){},389:function(e,t){},414:function(e,t){},416:function(e,t){},417:function(e,t){},422:function(e,t){},424:function(e,t){},437:function(e,t){},449:function(e,t){},452:function(e,t){},457:function(e,t){},468:function(e,t){},471:function(e,t){},527:function(e,t,n){},528:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(49),r=n.n(s),c=n(19),i=n.n(c),o=n(35),l=n(20),u=n(538),d=n(534),p=n(535),b=n(532),j=n(540),h=n(536),m=n(539),y=n(537),f=n(10),O=n(11),x=n(17),v=n(16),w=n(137),g=n(2),T=function(e){Object(x.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onImportExcel=function(t){var n=t.target.files,a=new FileReader;a.onload=function(t){try{var n=t.target.result,a=w.read(n,{type:"binary"}),s=[];for(var r in a.Sheets)a.Sheets.hasOwnProperty(r)&&(s=s.concat(w.utils.sheet_to_json(a.Sheets[r])));console.log("Upload file successful!"),e.props.getChildrenMsg(s)}catch(c){console.error("Unsupported file type!")}},a.readAsBinaryString(n[0])},e}return Object(O.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{className:"upload-wrap",children:[Object(g.jsx)("input",{className:"file-uploader",type:"file",accept:".xlsx, .xls",onChange:this.onImportExcel}),Object(g.jsx)("span",{className:"upload-text",children:"Upload file"})]})})}}]),n}(a.Component),k={accountlist:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,"undefined"!=typeof(n=t.ethereum)){e.next=3;break}return e.abrupt("return",{type:"error"});case 3:return e.next=5,n.request({method:"eth_requestAccounts"});case 5:return a=e.sent,e.abrupt("return",{type:"success",data:a[0]});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},S=n(230),N=n(231),C=n(232),M=n(233),A=n(234),E=n(235),B={mainnet:M.sender,kovan:C.sender,heco:A.sender,hecotest:E.sender},H=n(254);function _(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(l.a)(r,2),f=c[0],O=c[1],x=Object(a.useState)("18"),v=Object(l.a)(x,2),w=v[0],C=v[1],M=Object(a.useState)(""),A=Object(l.a)(M,2),E=A[0],_=A[1],F=Object(a.useState)(""),D=Object(l.a)(F,2),J=D[0],W=D[1],I=Object(a.useState)("first"),G=Object(l.a)(I,2),U=G[0],K=G[1],L=Object(a.useState)([]),P=Object(l.a)(L,2),q=P[0],R=P[1],Y=Object(a.useState)([]),V=Object(l.a)(Y,2),z=V[0],Q=V[1],X=Object(a.useState)([]),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(l.a)(te,2),ae=ne[0],se=ne[1],re=Object(a.useState)(0),ce=Object(l.a)(re,2),ie=ce[0],oe=ce[1],le=Object(a.useState)([]),ue=Object(l.a)(le,2),de=ue[0],pe=ue[1],be=Object(a.useState)([]),je=Object(l.a)(be,2),he=je[0],me=je[1],ye=Object(a.useState)(0),fe=Object(l.a)(ye,2),Oe=fe[0],xe=fe[1],ve=Object(a.useState)(""),we=Object(l.a)(ve,2),ge=we[0],Te=we[1],ke=Object(a.useState)(0),Se=Object(l.a)(ke,2),Ne=Se[0],Ce=Se[1],Me=Object(a.useState)(!0),Ae=Object(l.a)(Me,2),Ee=Ae[0],Be=Ae[1],He=Object(a.useState)(200),_e=Object(l.a)(He,1)[0],Fe=Object(a.useState)(0),De=Object(l.a)(Fe,2),Je=De[0],We=De[1],Ie=Object(a.useState)(!1),Ge=Object(l.a)(Ie,2),Ue=Ge[0],Ke=Ge[1],Le=Object(a.useState)(""),Pe=Object(l.a)(Le,2),qe=Pe[0],Re=Pe[1],Ye=Object(a.useState)(!1),Ve=Object(l.a)(Ye,2),ze=Ve[0],Qe=Ve[1],Xe=Object(a.useState)(!1),Ze=Object(l.a)(Xe,2),$e=Ze[0],et=Ze[1],tt=Object(a.useState)(!1),nt=Object(l.a)(tt,2),at=nt[0],st=nt[1],rt=new H(H.givenProvider),ct=null,it=null;window.ethereum.on("accountsChanged",(function(e){s(e[0]),et(!0),setTimeout((function(){et(!1)}),3e3)})),window.ethereum.on("chainChanged",(function(e){st(!0),setTimeout((function(){st(!1)}),3e3)}));var ot=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.eth.getChainId();case 2:t=e.sent,lt(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("chainId",t),1!=t){e.next=5;break}it=B.mainnet,e.next=19;break;case 5:if(42!=t){e.next=9;break}it=B.kovan,e.next=19;break;case 9:if(128!=t){e.next=13;break}it=B.heco,e.next=19;break;case 13:if(256!=t){e.next=17;break}it=B.hecotest,e.next=19;break;case 17:return console.error("Unsupported network!!!!"),e.abrupt("return");case 19:return console.log("sender address: ",it),e.next=22,new rt.eth.Contract(N,it);case 22:ct=e.sent;case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.accountlist().then((function(e){"success"===e.type?s(e.data):Qe(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"token":O(a);break;case"decimals":C(a);break;case"amounts":_(a)}},pt=function(e){W(e.target.value)};Object(a.useEffect)((function(){Be(!(n&&""!==n&&E&&f&&w))}),[n,E,f,w]);var bt=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.split("\n"),a=[],t.map((function(e){e&&a.push({address:e.split(",")[0],amount:parseFloat(e.split(",")[1])})})),s={tokenAddress:f,decimals:w,transaction:a},R(a),console.log("=====",s),K("second"),e.next=9,new rt.eth.Contract(S,f);case 9:return r=e.sent,console.log("token address: ",f,r),se(r),jt(),ht(r),mt(r),yt(r),e.next=18,rt.eth.getBalance(n);case 18:c=e.sent,console.log("==============ethBalance",c),We(rt.utils.fromWei(c));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){for(var e=E.split("\n"),t=[],n=[],a=0,s=0;s<e.length;s++){var r=e[s].trim();if(0!==r.length){var c=r.split(","),i=c[0].trim(),o=rt.utils.toWei(c[1].trim());rt.utils.isAddress(i)?(t.push(i),n.push(o),a+=parseFloat(c[1].trim())):console.log("Invalid address: ",i)}else console.log("skip empty line")}oe(a),pe(t),me(n),console.log("Total address : ".concat(t.length,", Total amount : ").concat(a))},ht=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.allowance(n,it).call();case 2:a=e.sent,console.log("My allowance: ",rt.utils.fromWei(a)),xe(rt.utils.fromWei(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.symbol().call();case 2:n=e.sent,console.log("Token symbol: ",n),Te(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.balanceOf(n).call();case 2:a=e.sent,console.log("My balance: ",rt.utils.fromWei(a)),Ce(rt.utils.fromWei(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,s,r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(!0),Re("waiting...."),console.log(J),e.next=5,ae.methods.decimals().call();case 5:if(t=e.sent,console.log("Decimals: ",t),!(Oe<ie)){e.next=20;break}if("unlimited"!==J){e.next=16;break}return e.next=11,ae.methods.totalSupply().call();case 11:return a=e.sent,e.next=14,ae.methods.approve(it,a).send({from:n}).then((function(e){console.log("transactionHash",e),Re("transactionHash"),Q(e.transactionHash)})).catch((function(e){Ke(!1)}));case 14:e.next=18;break;case 16:return e.next=18,ae.methods.approve(it,rt.utils.toWei(ie.toString())).send({from:n}).then((function(e){console.log("transactionHash",e),Re("transactionHash"),Q(e.transactionHash)})).catch((function(e){Ke(!1)}));case 18:e.next=21;break;case 20:console.log("Already have enough allowance!");case 21:s=0,r=[],c=0;case 24:if(!(c<de.length)){e.next=33;break}return s++,o=de.slice(c,c+_e),l=he.slice(c,c+_e),e.next=30,ct.methods.batchSendToken(f,o,l).send({from:n}).then((function(e){console.log("batchSendToken",e),r.push(e.transactionHash),Re("batchSendToken (".concat(s,"/").concat(Math.ceil(de.length/_e),")")),s>=Math.ceil(de.length/_e)&&Ke(!1)})).catch((function(e){Ke(!1)}));case 30:c+=_e,e.next=24;break;case 33:ee(r),K("third");case 35:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ot(),Object(g.jsxs)("div",{className:"homeBrdr",children:[Object(g.jsx)(u.a,{show:Ue,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){},children:Object(g.jsxs)(u.a.Body,{className:"loading",children:[Object(g.jsx)("div",{className:"spinner",children:Object(g.jsx)(d.a,{animation:"border",variant:"primary"})}),Object(g.jsx)("h4",{className:"waiting",children:qe})]})}),ze&&Object(g.jsx)(p.a,{variant:"danger",onClose:function(){return Qe(!1)},dismissible:!0,children:Object(g.jsx)(p.a.Heading,{children:"Please install MetaMask!"})}),$e&&Object(g.jsx)(p.a,{variant:"success",children:"Account was changed"}),at&&Object(g.jsx)(p.a,{variant:"success",children:"Chain was changed"}),Object(g.jsxs)("div",{className:"wallet",children:[!n&&Object(g.jsx)(b.a,{variant:"primary",onClick:ut,children:"connect Wallet"}),n&&Object(g.jsx)("span",{children:n})]}),Object(g.jsxs)(j.a,{activeKey:U,onSelect:function(e){return K(e)},children:[Object(g.jsx)(h.a,{eventKey:"first",title:"Step1. Prepare",children:Object(g.jsxs)("div",{className:"container ",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-9",children:Object(g.jsxs)(m.a.Group,{children:[Object(g.jsx)(m.a.Label,{children:"Token"}),Object(g.jsx)(m.a.Control,{name:"token",value:f,onChange:dt})]})}),Object(g.jsx)("div",{className:"col-3",children:Object(g.jsxs)(m.a.Group,{children:[Object(g.jsx)(m.a.Label,{children:"Decimals"}),Object(g.jsx)(m.a.Control,{name:"decimals",value:w,onChange:dt})]})})]}),Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col-12",children:[Object(g.jsx)(T,{getChildrenMsg:function(e){console.log(e);var t="";e.map((function(e){t+="".concat(e.Address,",").concat(e.Amount," \n")})),_(t)}}),Object(g.jsxs)(m.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(g.jsx)(m.a.Label,{children:"Addresses with Amounts"}),Object(g.jsx)(m.a.Control,{as:"textarea",rows:8,name:"amounts",value:E,onChange:dt})]}),Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{variant:"primary",onClick:bt,disabled:Ee,children:"Next"})})]})})]})}),Object(g.jsx)(h.a,{eventKey:"second",title:"Step2. Confirm",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h5",{children:"List of recipients"}),Object(g.jsx)("div",{className:"tableBrdr",children:Object(g.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Address"}),Object(g.jsx)("th",{children:"Amount"})]})}),Object(g.jsx)("tbody",{children:q.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.address}),Object(g.jsx)("td",{children:e.amount})]},"".concat(e.address,"_").concat(t))}))})]})}),Object(g.jsx)("h5",{children:"Summary"}),Object(g.jsx)(y.a,{bordered:!0,children:Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{width:"50%",children:[Object(g.jsxs)("div",{className:"numbers",children:[ie," ",ge]}),Object(g.jsx)("div",{className:"tips",children:"Request approve amount"})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)("div",{className:"numbers",children:[Oe," ",ge]}),Object(g.jsx)("div",{className:"tips",children:"Your current allowance"})]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{width:"50%",children:[Object(g.jsx)("div",{className:"numbers",children:de.length}),Object(g.jsx)("div",{className:"tips",children:"Total number of addresses"})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)("div",{className:"numbers",children:[ie," ",ge]}),Object(g.jsx)("div",{className:"tips",children:"Total number of tokens to be sent"})]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{width:"50%",children:[Object(g.jsx)("div",{className:"numbers",children:Math.ceil(de.length/_e)}),Object(g.jsx)("div",{className:"tips",children:"Total number of transaction needed"})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)("div",{className:"numbers",children:[Ne," ",ge]}),Object(g.jsx)("div",{className:"tips",children:"Your token balance"})]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{width:"50%",children:[Object(g.jsx)("div",{className:"numbers"}),Object(g.jsx)("div",{className:"tips",children:"Approximate cost of operation"})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)("div",{className:"numbers",children:[Je," ETH"]}),Object(g.jsx)("div",{className:"tips",children:"Your ETH balance"})]})]})]})}),Object(g.jsx)("h5",{children:"Amount to Approve"}),Object(g.jsxs)(m.a.Group,{className:"radioGroup",children:[Object(g.jsx)(m.a.Check,{type:"radio",label:"Extra amount to sent",name:"approveAmount",onChange:pt,value:"extra"}),Object(g.jsx)(m.a.Check,{type:"radio",label:"Unlimited amount",name:"approveAmount",value:"unlimited",onChange:pt})]}),Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{variant:"primary",onClick:ft,children:"Submit"})})]})}),Object(g.jsx)(h.a,{eventKey:"third",title:"Step3. Result",children:Object(g.jsxs)("div",{className:"container result",children:[Object(g.jsx)("h5",{children:"transactionHash"}),Object(g.jsx)("ul",{className:"transaction",children:z&&Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"https://kovan.etherscan.io/tx/".concat(z),target:"_blank",rel:"noopener noreferrer",children:z})})}),Object(g.jsx)("h5",{children:"batchSendToken"}),Object(g.jsx)("ul",{children:$&&$.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"https://kovan.etherscan.io/tx/".concat(e),target:"_blank",rel:"noopener noreferrer",children:e})},e)}))})]})})]})]})}var F=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})})};n(527);r.a.render(Object(g.jsx)(F,{}),document.getElementById("root"))}},[[528,1,2]]]);
//# sourceMappingURL=main.48efafa5.chunk.js.map